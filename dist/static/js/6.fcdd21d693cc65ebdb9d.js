webpackJsonp([6],{143:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{offset:{type:Number,default:40},enableInfinite:{type:Boolean,default:!0},enableRefresh:{type:Boolean,default:!0},onRefresh:{type:Function,default:void 0,required:!1},onInfinite:{type:Function,default:void 0,require:!1}},data:function(){return{top:0,state:0,startY:0,touching:!1,infiniteLoading:!1}},methods:{touchStart:function(t){this.startY=t.targetTouches[0].pageY,this.startScroll=this.$el.scrollTop||0,this.touching=!0},touchMove:function(t){if(this.enableRefresh&&!(this.$el.scrollTop>0)&&this.touching){var e=t.targetTouches[0].pageY-this.startY-this.startScroll;e>0&&t.preventDefault(),this.top=Math.pow(e,.8)+(2===this.state?this.offset:0),2!==this.state&&(this.top>=this.offset?this.state=1:this.state=0)}},touchEnd:function(t){if(this.enableRefresh){if(this.touching=!1,2===this.state)return this.state=2,void(this.top=this.offset);this.top>=this.offset?this.refresh():(this.state=0,this.top=0)}},refresh:function(){this.state=2,this.top=this.offset,this.onRefresh(this.refreshDone)},refreshDone:function(){this.state=0,this.top=0},infinite:function(){this.infiniteLoading=!0,this.onInfinite(this.infiniteDone)},infiniteDone:function(){this.infiniteLoading=!1},onScroll:function(t){if(this.enableInfinite&&!this.infiniteLoading){var e=this.$el.clientHeight;this.$el.querySelector(".inner").clientHeight-e-this.$el.scrollTop-(this.onRefresh?this.$el.querySelector(".pull-refresh").clientHeight:0)<this.$el.querySelector(".load-more").clientHeight&&this.infinite()}}}}},146:function(t,e,n){e=t.exports=n(13)(),e.push([t.i,".yo-scroll{position:absolute;top:0;right:0;bottom:0;left:0;overflow:auto;-webkit-overflow-scrolling:touch;background-color:#ddd}.yo-scroll .inner{position:absolute;width:100%;transition-duration:.3s}.yo-scroll .pull-refresh{position:relative;left:0;top:0;width:100%;height:2rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.yo-scroll.touch .inner{transition-duration:0ms}.yo-scroll.down .down-tip,.yo-scroll.refresh .refresh-tip,.yo-scroll.up .up-tip{display:block}.yo-scroll .down-tip,.yo-scroll .refresh-tip,.yo-scroll .up-tip{display:none}.yo-scroll .load-more{height:3rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}","",{version:3,sources:["D:/Program Files/workspace/FMC/new_wx/wx_qj/src/components/scroller_me/scroller.vue"],names:[],mappings:"AACA,WACE,kBAAmB,AACnB,MAAO,AACP,QAAS,AACT,SAAU,AACV,OAAQ,AACR,cAAe,AACf,iCAAkC,AAClC,qBAAsB,CACvB,AACD,kBACE,kBAAmB,AAEnB,WAAY,AACZ,uBAA2B,CAC5B,AACD,yBACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,WAAY,AACZ,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,wBAAyB,AACrB,qBAAsB,AAClB,sBAAwB,CACjC,AACD,wBACE,uBAAyB,CAC1B,AAOD,gFACE,aAAe,CAChB,AACD,gEAGE,YAAc,CACf,AACD,sBACE,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,wBAAyB,AACrB,qBAAsB,AAClB,sBAAwB,CACjC",file:"scroller.vue",sourcesContent:["\n.yo-scroll {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  background-color: #ddd\n}\n.yo-scroll .inner {\n  position: absolute;\n  /*top: -2rem;*/\n  width: 100%;\n  transition-duration: 300ms;\n}\n.yo-scroll .pull-refresh {\n  position: relative;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 2rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.yo-scroll.touch .inner {\n  transition-duration: 0ms;\n}\n.yo-scroll.down .down-tip {\n  display: block;\n}\n.yo-scroll.up .up-tip {\n  display: block;\n}\n.yo-scroll.refresh .refresh-tip {\n  display: block;\n}\n.yo-scroll .down-tip,\n.yo-scroll .refresh-tip,\n.yo-scroll .up-tip {\n  display: none;\n}\n.yo-scroll .load-more {\n  height: 3rem;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n"],sourceRoot:""}])},149:function(t,e,n){var o=n(146);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(14)("239e2ac4",o,!0)},15:function(t,e,n){var o=n(3)(n(185),n(240),null,null);t.exports=o.exports},152:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"yo-scroll",class:{down:0===t.state,up:1==t.state,refresh:2===t.state,touch:t.touching},on:{touchstart:function(e){t.touchStart(e)},touchmove:function(e){t.touchMove(e)},touchend:function(e){t.touchEnd(e)},scroll:function(e){(t.onInfinite||t.infiniteLoading)&&t.onScroll(e)}}},[n("section",{staticClass:"inner",style:{transform:"translate3d(0, "+t.top+"px, 0)"}},[n("header",{staticClass:"pull-refresh"},[t._t("pull-refresh",[n("span",{staticClass:"down-tip"},[t._v("下拉更新")]),t._v(" "),n("span",{staticClass:"up-tip"},[t._v("松开更新")]),t._v(" "),n("span",{staticClass:"refresh-tip"},[t._v("更新中")])])],2),t._v(" "),t._t("default"),t._v(" "),n("footer",{staticClass:"load-more"},[t._t("load-more",[n("span",[t._v("加载中……")])])],2)],2)])},staticRenderFns:[]}},155:function(t,e,n){n(149);var o=n(3)(n(143),n(152),null,null);t.exports=o.exports},185:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(155),i=n.n(o);e.default={data:function(){return{counter:1,num:30,pageStart:0,pageEnd:0,listdata:[],downdata:[]}},mounted:function(){this.getList()},methods:{getList:function(){console.log("getList");var t=this;t.$http.get("https://api.github.com/repos/typecho-fans/plugins/contents/").then(function(e){t.listdata=e.data.slice(0,30)},function(t){console.log("error")})},onRefresh:function(t){console.log("onRefresh"),this.getList(),t()},onInfinite:function(t){var e=this;console.log("onInfinite");var n=this;n.$http.get("https://api.github.com/repos/typecho-fans/plugins/contents/").then(function(o){n.counter++,n.pageEnd=n.num*n.counter,n.pageStart=n.pageEnd-n.num;for(var i=o.data,s=n.pageStart,r=n.pageEnd;s<r;s++){var l={};if(l.name=i[s].name,n.downdata.push(l),s+1>=o.data.length)return void(e.$el.querySelector(".load-more").style.display="none")}t()},function(t){console.log("error")})}},components:{"v-scroll":i.a}}},240:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-scroll",{attrs:{"on-refresh":t.onRefresh,"on-infinite":t.onInfinite}},[n("ul",[t._l(t.listdata,function(e,o){return n("li",[t._v(t._s(e.name))])}),t._v(" "),t._l(t.downdata,function(e,o){return n("li",[t._v(t._s(e.name))])})],2)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=6.fcdd21d693cc65ebdb9d.js.map